<template>
  <button
    class="cell"
    :class="{ 'is-visible': cell.isVisible }"
    @click="$emit('click')"
    @contextmenu="handleRightClick"
  >
    {{
      cell.isVisible
        ? cell.isMine
          ? 'ðŸ’£'
          : cell.adjacentMines > 0
            ? cell.adjacentMines
            : ''
        : cell.isFlagged
          ? 'ðŸš©'
          : ''
    }}
  </button>
</template>

<script>
export default {
  props: {
    cell: {
      type: Object,
      required: true,
    },
  },
  emits: ['click', 'rightclick'],
  methods: {
    handleRightClick(event) {
      event.preventDefault() // Prevent default context menu
      this.$emit('rightclick')
    },
  },
}
</script>

<style scoped>
.cell {
  border: 1px solid #ccc;
  font-size: 1.2rem;
  text-align: center;
  cursor: pointer;
  background-color: #eee;
  flex: 1 0 auto;
  aspect-ratio: 1 / 1;
}

.cell:hover {
  background-color: #ddd;
}

.cell.is-visible {
  background-color: #fff; /* Ð¦Ð²ÐµÑ‚ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾Ð¹ ÐºÐ»ÐµÑ‚ÐºÐ¸ */
  border: none;
  cursor: default;
}

.cell:nth-child(1n).is-visible {
  color: blue;
}
.cell:nth-child(2n).is-visible {
  color: green;
}
.cell:nth-child(3n).is-visible {
  color: red;
}
.cell:nth-child(4n).is-visible {
  color: purple;
}
.cell:nth-child(5n).is-visible {
  color: maroon;
}
.cell:nth-child(6n).is-visible {
  color: teal;
}
.cell:nth-child(7n).is-visible {
  color: black;
}
.cell:nth-child(8n).is-visible {
  color: gray;
}
.cell {
  min-width: 30px;
  min-height: 30px;
}
</style>
